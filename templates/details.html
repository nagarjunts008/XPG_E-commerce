{% extends 'base.html' %}

{% block content %}
{% load static %}
{% static "img" as baseUrl %}


<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>eCommerce Product Detail</title>
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/details.css'%}">
  

  <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <!------ Include the above in your HEAD tag ---------->
  
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
<!------ Include the above in your HEAD tag ---------->



  <link href="{%static 'css/star.css'%}" rel="stylesheet">
  <script src="{%static 'js/star.js'%}"></script>


</head>

<body>
<div class="container">
  <div class="card">
    <div class="container-fliud">
      <div class="wrapper row">

        <div class="preview col-md-6">
          <div class="preview-pic tab-content">
            <div class="tab-pane active" id="pic-1"><img src="{{x.product.img.url}}" /></div>
            {% if x.product.img2.url != '/media/False' %}
            <div class="tab-pane" id="pic-2"><img src="{{x.product.img2.url}}" /></div>
            {% endif %}

          </div>
          <ul class="preview-thumbnail nav nav-tabs">
            <li class="active"><a data-target="#pic-1" data-toggle="tab"><img src="{{x.product.img.url}}" /></a></li>
            {% if x.product.img2.url != '/media/False' %}
            <li><a data-target="#pic-2" data-toggle="tab"><img src="{{x.product.img2.url}}" /></a></li>
            {% endif %}

          </ul>
        </div>

        <div class="details col-md-6">
          <h3 class="product-title">{{x.product.name}}</h3>
          <div class="rating">
            <div class="stars">
              {% for i in x.intstar %}
                <span class="fa fa-star checked"></span>
              {% endfor %}

            </div>
            Total stars: <span class="review-no">{{x.totalstar}}</span>
          </div>
          <p class="product-price"><span><b>â‚¹{{x.product.price}}</b></span></p>
          <p class="product-description">{{x.product.desc}}</h4>

              <div class="row">
                <div class="col-xs-12 col-md-12">
                    <div class="well well-sm">
                        <div class="row">
                            <div class="col-xs-12 col-md-6 text-center">
                                <h1 class="rating-num">
                                    {{x.avg}}%</h1>
                                    <div class="stars">
                                      {{x.totalstar}} <span class="fa fa-star checked"></span>
                                    </div>
                                <div>
                                    <span class="glyphicon glyphicon-user"></span> {{x.totalrater}} total
                                </div>
                            </div>
                            <div class="col-xs-12 col-md-6">
                                <div class="row rating-desc">
                                    <div class="col-xs-3 col-md-3 text-right">
                                        <span class="glyphicon glyphicon-star"></span>5
                                    </div>
                                    <div class="col-xs-8 col-md-9">
                                        <div class="progress progress-striped">
                                            <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="20"
                                                aria-valuemin="0" aria-valuemax="100" style="width: {{x.avg5}}%">
                                                <span class="sr-only">80%</span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end 5 -->
                                    <div class="col-xs-3 col-md-3 text-right">
                                        <span class="glyphicon glyphicon-star"></span>4
                                    </div>
                                    <div class="col-xs-8 col-md-9">
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="20"
                                                aria-valuemin="0" aria-valuemax="100" style="width: {{x.avg4}}%">
                                                <span class="sr-only">60%</span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end 4 -->
                                    <div class="col-xs-3 col-md-3 text-right">
                                        <span class="glyphicon glyphicon-star"></span>3
                                    </div>
                                    <div class="col-xs-8 col-md-9">
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="20"
                                                aria-valuemin="0" aria-valuemax="100" style="width: {{x.avg3}}%">
                                                <span class="sr-only">40%</span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end 3 -->
                                    <div class="col-xs-3 col-md-3 text-right">
                                        <span class="glyphicon glyphicon-star"></span>2
                                    </div>
                                    <div class="col-xs-8 col-md-9">
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="20"
                                                aria-valuemin="0" aria-valuemax="100" style="width: {{x.avg2}}%">
                                                <span class="sr-only">20%</span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end 2 -->
                                    <div class="col-xs-3 col-md-3 text-right">
                                        <span class="glyphicon glyphicon-star"></span>1
                                    </div>
                                    <div class="col-xs-8 col-md-9">
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="80"
                                                aria-valuemin="0" aria-valuemax="100" style="width: {{x.avg1}}%">
                                                <span class="sr-only">15%</span>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- end 1 -->
                                </div>
                                <!-- end row -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
           
          <br><br><br>
          <div class="action">
            <a href="{% url 'add_to_card' user x.product x.product.id %}"><button class="add-to-cart btn btn-default" type="button">add to cart</button></a>
            <button class="like btn btn-default" type="button"><span class="fa fa-heart"></span></button>
            <button class="add-to-cart btn btn-default" type="button">Documentation</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<br>

<div class="container">
    
  <div class="row">
    <div class="col-sm-8">
      {% for r in x.reviews%}
      <div class="row">
        <div class="col-sm-12">
          <div class="card">
          <div class="review-block">
            <div class="row">
              <div class="col-sm-3">
                <div class="review-block-name"><p style="color: rgb(255, 81, 0);">{{r.user}}</p></div>
                <div class="review-block-date">{{r.date}}<br/></div>
              </div>
              <div class="col-sm-9">
                <div class="review-block-rate">
                  <div class="stars">
                    {{r.star}} <span class="fa fa-star checked"></span>
                  </div>
                </div>
                <div class="review-block-title"><h6>{{r.title}}</h6></div>
                <div class="review-block-description"><p>{{r.review}}</p></div>
              </div>
            <hr/>
          </div>
          </div>
        </div>
      </div>
      </div>
      {% endfor %}
    </div>

    <div class="col-sm-4">
      <form action="{% url 'new_reviews' x.product x.product.id user user.id %}" method="POST">
        {%csrf_token%}
        <span></span><br><br>
        <h2 class="bold rating-header" style="color: rgb(252, 156, 11);">Rate Your self</h2>
        <div class="col-xs-3">
          <label for="ex2"><h6>Title:</h6></label>
          <input class="form-control" id="ex2" type="text" name="review_title" placeholder="Title">
        </div>
        <div class="col-xs-4"><br>
          <label for="ex3"><h6>Enter Review Here:</h6></label>
          <input class="form-control" id="ex3" type="text" name="new_review" placeholder="Enter Review Here...">
        </div>

        
        <div class="form-group" id="rating-ability-wrapper">
          <label class="control-label" for="rating">
          <input type="hidden" id="selected_rating" name="starstyle" value="" required="required">
          </label>
          <h2 class="bold rating-header" style="">
          </h2>
          <button type="button" class="btnrating btn btn-default btn-lg" data-attr="1" id="rating-star-1">
              <i class="fa fa-star" aria-hidden="true"></i>
          </button>
          <button type="button" class="btnrating btn btn-default btn-lg" data-attr="2" id="rating-star-2">
              <i class="fa fa-star" aria-hidden="true"></i>
          </button>
          <button type="button" class="btnrating btn btn-default btn-lg" data-attr="3" id="rating-star-3">
              <i class="fa fa-star" aria-hidden="true"></i>
          </button>
          <button type="button" class="btnrating btn btn-default btn-lg" data-attr="4" id="rating-star-4">
              <i class="fa fa-star" aria-hidden="true"></i>
          </button>
          <button type="button" class="btnrating btn btn-default btn-lg" data-attr="5" id="rating-star-5">
              <i class="fa fa-star" aria-hidden="true"></i>
          </button>
          <span class="selected-rating">0</span><small> / 5</small>
      </div>

        
        <div class="form-group">
          <br>
          <input type="submit" class="btn btn-primary">
        </div> 
      
    </form>
    </div>

  </div>
</div>



</body>
{% endblock %}
